<type access-modifier="private" name="Alarms_SortForm" display-name="Form_1" uuid="95d52964-3d3f-43d2-ad6f-f3cb68a1c51b" base-type="Form" base-type-id="ffaf5544-6200-45f4-87ec-9dd24558a9d5" ver="2">
	<designed target="X" value="0" ver="2"/>
	<designed target="Y" value="0" ver="2"/>
	<designed target="Rotation" value="0" ver="2"/>
	<designed target="Scale" value="1" ver="2"/>
	<designed target="Visible" value="true" ver="2"/>
	<designed target="Enabled" value="true" ver="2"/>
	<designed target="Tooltip" value="" ver="2"/>
	<designed target="Width" value="570" ver="2"/>
	<designed target="Height" value="460" ver="2"/>
	<designed target="PenColor" value="4278190080" ver="2"/>
	<designed target="PenStyle" value="0" ver="2"/>
	<designed target="PenWidth" value="1" ver="2"/>
	<designed target="BrushColor" value="0xfff0f0f0" ver="2"/>
	<designed target="BrushStyle" value="1" ver="2"/>
	<designed target="WindowX" value="0" ver="2"/>
	<designed target="WindowY" value="0" ver="2"/>
	<designed target="WindowWidth" value="570" ver="2"/>
	<designed target="WindowHeight" value="430" ver="2"/>
	<designed target="WindowCaption" value="Сортировка" ver="2"/>
	<designed target="ShowWindowCaption" value="true" ver="2"/>
	<designed target="ShowWindowMinimize" value="false" ver="2"/>
	<designed target="ShowWindowMaximize" value="false" ver="2"/>
	<designed target="ShowWindowClose" value="true" ver="2"/>
	<designed target="AlwaysOnTop" value="false" ver="2"/>
	<designed target="WindowSizeMode" value="1" ver="2"/>
	<designed target="WindowBorderStyle" value="2" ver="2"/>
	<designed target="WindowState" value="0" ver="2"/>
	<designed target="WindowScalingMode" value="0" ver="2"/>
	<designed target="MonitorNumber" value="0" ver="2"/>
	<designed target="WindowPosition" value="2" ver="2"/>
	<designed target="WindowCloseMode" value="0" ver="2"/>
	<object access-modifier="private" name="Buttons" display-name="Buttons" uuid="a39b10d1-40c1-4ee5-8d1e-f5fccc94aa9f" base-type="Rectangle" base-type-id="15726dc3-881e-4d8d-b0fa-a8f8237f08ca" ver="2">
		<designed target="X" value="480" ver="2"/>
		<designed target="Y" value="0" ver="2"/>
		<designed target="Rotation" value="0" ver="2"/>
		<designed target="Scale" value="1" ver="2"/>
		<designed target="Visible" value="true" ver="2"/>
		<designed target="Enabled" value="true" ver="2"/>
		<designed target="Tooltip" value="" ver="2"/>
		<designed target="Width" value="80" ver="2"/>
		<designed target="Height" value="160" ver="2"/>
		<designed target="RoundingRadius" value="0" ver="2"/>
		<designed target="PenColor" value="4278190080" ver="2"/>
		<designed target="PenStyle" value="0" ver="2"/>
		<designed target="PenWidth" value="1" ver="2"/>
		<designed target="BrushColor" value="4278190080" ver="2"/>
		<designed target="BrushStyle" value="0" ver="2"/>
		<object access-modifier="private" name="Button_Add" display-name="Button_Add" uuid="0d2a0c5c-0236-43ba-b2e9-f73d457745fe" base-type="Button" base-type-id="61e46e4a-827f-4dd2-ac8a-b68bcaddf442" ver="3">
			<designed target="X" value="0" ver="3"/>
			<designed target="Y" value="10" ver="3"/>
			<designed target="Rotation" value="0" ver="3"/>
			<designed target="Scale" value="1" ver="3"/>
			<designed target="Visible" value="true" ver="3"/>
			<designed target="Enabled" value="true" ver="3"/>
			<designed target="Tooltip" value="" ver="3"/>
			<designed target="Width" value="80" ver="3"/>
			<designed target="Height" value="25" ver="3"/>
			<designed target="Checkable" value="false" ver="3"/>
			<designed target="Text" value="Добавить" ver="3"/>
			<designed target="TextAlignment" value="132" ver="3"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="3"/>
			<designed target="FontColor" value="4278190080" ver="3"/>
			<designed target="OnClickFontColor" value="0xff000000" ver="3"/>
			<designed target="OnHoverFontColor" value="0xff000000" ver="3"/>
			<designed target="DisabledFontColor" value="0xffa0a0a0" ver="3"/>
			<designed target="BrushColor" value="0xfff0f0f0" ver="3"/>
			<designed target="BrushStyle" value="1" ver="3"/>
			<designed target="OnClickBrushColor" value="0xffa0a0a0" ver="3"/>
			<designed target="OnClickBrushStyle" value="1" ver="3"/>
			<designed target="OnHoverBrushColor" value="0xffffffff" ver="3"/>
			<designed target="OnHoverBrushStyle" value="1" ver="3"/>
			<designed target="DisabledBrushColor" value="0xfff0f0f0" ver="3"/>
			<designed target="DisabledBrushStyle" value="1" ver="3"/>
			<designed target="PenColor" value="0xff000000" ver="3"/>
			<designed target="PenStyle" value="1" ver="3"/>
			<designed target="PenWidth" value="1" ver="3"/>
			<designed target="OnClickPenColor" value="0xff000000" ver="3"/>
			<designed target="OnClickPenStyle" value="1" ver="3"/>
			<designed target="OnClickPenWidth" value="1" ver="3"/>
			<designed target="OnHoverPenColor" value="0xff000000" ver="3"/>
			<designed target="OnHoverPenStyle" value="1" ver="3"/>
			<designed target="OnHoverPenWidth" value="1" ver="3"/>
			<designed target="DisabledPenColor" value="0xffa0a0a0" ver="3"/>
			<designed target="DisabledPenStyle" value="1" ver="3"/>
			<designed target="DisabledPenWidth" value="1" ver="3"/>
			<do-trace access-modifier="private" target="Enabled" ver="5">
				<body>
					<![CDATA[!tableFull]]>
				</body>
			</do-trace>
			<designed target="ZValue" value="0" ver="3"/>
			<designed target="Opacity" value="1" ver="3"/>
			<designed target="Checked" value="false" ver="4"/>
			<do-on access-modifier="private" name="Handler_2" display-name="Handler_2" ver="5" event="ButtonPressed">
				<body kind="javascript">
					<![CDATA[//Заполняем временную таблицу возможными значениями
//статус использования всех полей, незадействованные в таблице, обнуляется
for (let i = 0; i < TempTable_1.GetRowCount();i++)
{
	var matchCount = 0;
	for (let j = 0; j < Table_1.TableModel.GetRowCount(); j++)
	{
		if (TempTable_1.GetCellData(i,1) == Table_1.TableModel.GetCellData(j,1))
			matchCount++;
	}
	if (matchCount == 0)
		TempTable_1.SetCellData(i,0,false);
}

//Если поле временной таблицы имеет статус Use "false", то добавяем в таблицу сортировки. Первый элемент таблицы идет с описанием "Сортировать по" для определения приоритета сортировки
for (let i = 0; i < TempTable_1.GetRowCount(); i++)
{
	if (TempTable_1.GetCellData(i,0) == false)
	{
		Table_1.TableModel.AddRow();
		if (Table_1.TableModel.GetRowCount()>1) Table_1.TableModel.SetCellData(Table_1.TableModel.GetRowCount()-1,0,"Затем по");
		else Table_1.TableModel.SetCellData(Table_1.TableModel.GetRowCount()-1,0,"Сортировать по");
		Table_1.TableModel.SetCellData(Table_1.TableModel.GetRowCount()-1,1,TempTable_1.GetCellData(i,1));
		Table_1.TableModel.SetCellData(Table_1.TableModel.GetRowCount()-1,2,TempTable_1.GetCellData(i,2));
		TempTable_1.SetCellData(i,0,true);
		break;
	}
}

//Выделяем новую строку
Table_1.currentRow = Table_1.TableModel.GetRowCount() - 1;
Table_1.SetSelectedRows("["+Table_1.currentRow+"]");

if (Table_1.TableModel.GetRowCount() == TempTable_1.GetRowCount())
	tableFull = true; //Если таблица заполнена, то блокируем кнопку "Добавить"
else tableFull = false;
]]>
				</body>
			</do-on>
		</object>
		<object access-modifier="private" name="Button_Remove" display-name="Button_Remove" uuid="dbf4c55a-4ffd-4811-b2cd-158137a5dfd0" base-type="Button" base-type-id="61e46e4a-827f-4dd2-ac8a-b68bcaddf442" ver="3">
			<designed target="X" value="0" ver="3"/>
			<designed target="Y" value="40" ver="3"/>
			<designed target="Rotation" value="0" ver="3"/>
			<designed target="Scale" value="1" ver="3"/>
			<designed target="Visible" value="true" ver="3"/>
			<designed target="Enabled" value="true" ver="3"/>
			<designed target="Tooltip" value="" ver="3"/>
			<designed target="Width" value="80" ver="3"/>
			<designed target="Height" value="25" ver="3"/>
			<designed target="Checkable" value="false" ver="3"/>
			<designed target="Text" value="Удалить" ver="3"/>
			<designed target="TextAlignment" value="132" ver="3"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="3"/>
			<designed target="FontColor" value="4278190080" ver="3"/>
			<designed target="OnClickFontColor" value="0xff000000" ver="3"/>
			<designed target="OnHoverFontColor" value="0xff000000" ver="3"/>
			<designed target="DisabledFontColor" value="0xffa0a0a0" ver="3"/>
			<designed target="BrushColor" value="0xfff0f0f0" ver="3"/>
			<designed target="BrushStyle" value="1" ver="3"/>
			<designed target="OnClickBrushColor" value="0xffa0a0a0" ver="3"/>
			<designed target="OnClickBrushStyle" value="1" ver="3"/>
			<designed target="OnHoverBrushColor" value="0xffffffff" ver="3"/>
			<designed target="OnHoverBrushStyle" value="1" ver="3"/>
			<designed target="DisabledBrushColor" value="0xfff0f0f0" ver="3"/>
			<designed target="DisabledBrushStyle" value="1" ver="3"/>
			<designed target="PenColor" value="0xff000000" ver="3"/>
			<designed target="PenStyle" value="1" ver="3"/>
			<designed target="PenWidth" value="1" ver="3"/>
			<designed target="OnClickPenColor" value="0xff000000" ver="3"/>
			<designed target="OnClickPenStyle" value="1" ver="3"/>
			<designed target="OnClickPenWidth" value="1" ver="3"/>
			<designed target="OnHoverPenColor" value="0xff000000" ver="3"/>
			<designed target="OnHoverPenStyle" value="1" ver="3"/>
			<designed target="OnHoverPenWidth" value="1" ver="3"/>
			<designed target="DisabledPenColor" value="0xffa0a0a0" ver="3"/>
			<designed target="DisabledPenStyle" value="1" ver="3"/>
			<designed target="DisabledPenWidth" value="1" ver="3"/>
			<do-trace access-modifier="private" target="Enabled" ver="5">
				<body>
					<![CDATA[Table_1.currentRow > -1]]>
				</body>
			</do-trace>
			<designed target="ZValue" value="0" ver="3"/>
			<designed target="Opacity" value="1" ver="3"/>
			<designed target="Checked" value="false" ver="4"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ButtonPressed">
				<body kind="javascript">
					<![CDATA[var field;
//Удаление выбранной строки из таблицы сортировки
for (let i = 0; i < Table_1.GetRowCount(); i++)
{
	if (Table_1.IsRowSelected(i))
	{
		field = Table_1.TableModel.GetCellData(i,1);
		Table_1.TableModel.RemoveRow(i);
	}
}
//Ищем удаленной поле в временной таблице и помечаем как неиспользуемое
for (let i = 0; i < TempTable_1.GetRowCount(); i++)
{
	if (TempTable_1.GetCellData(i,1) == field) TempTable_1.SetCellData(i,0,false);
}
if (Table_1.TableModel.GetRowCount() > 0) Table_1.TableModel.SetCellData(0,0,"Сортировать по");

tableFull = false;]]>
				</body>
			</do-on>
		</object>
		<object access-modifier="private" name="Button_Up" display-name="Button_Up" uuid="4603eaca-de0d-42b4-bf59-3ceaff66d9e3" base-type="Button" base-type-id="61e46e4a-827f-4dd2-ac8a-b68bcaddf442" ver="3">
			<designed target="X" value="0" ver="3"/>
			<designed target="Y" value="70" ver="3"/>
			<designed target="Rotation" value="0" ver="3"/>
			<designed target="Scale" value="1" ver="3"/>
			<designed target="Visible" value="true" ver="3"/>
			<designed target="Enabled" value="true" ver="3"/>
			<designed target="Tooltip" value="" ver="3"/>
			<designed target="Width" value="80" ver="3"/>
			<designed target="Height" value="25" ver="3"/>
			<designed target="Checkable" value="false" ver="3"/>
			<designed target="Text" value="Вверх" ver="3"/>
			<designed target="TextAlignment" value="132" ver="3"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="3"/>
			<designed target="FontColor" value="4278190080" ver="3"/>
			<designed target="OnClickFontColor" value="0xff000000" ver="3"/>
			<designed target="OnHoverFontColor" value="0xff000000" ver="3"/>
			<designed target="DisabledFontColor" value="0xffa0a0a0" ver="3"/>
			<designed target="BrushColor" value="0xfff0f0f0" ver="3"/>
			<designed target="BrushStyle" value="1" ver="3"/>
			<designed target="OnClickBrushColor" value="0xffa0a0a0" ver="3"/>
			<designed target="OnClickBrushStyle" value="1" ver="3"/>
			<designed target="OnHoverBrushColor" value="0xffffffff" ver="3"/>
			<designed target="OnHoverBrushStyle" value="1" ver="3"/>
			<designed target="DisabledBrushColor" value="0xfff0f0f0" ver="3"/>
			<designed target="DisabledBrushStyle" value="1" ver="3"/>
			<designed target="PenColor" value="0xff000000" ver="3"/>
			<designed target="PenStyle" value="1" ver="3"/>
			<designed target="PenWidth" value="1" ver="3"/>
			<designed target="OnClickPenColor" value="0xff000000" ver="3"/>
			<designed target="OnClickPenStyle" value="1" ver="3"/>
			<designed target="OnClickPenWidth" value="1" ver="3"/>
			<designed target="OnHoverPenColor" value="0xff000000" ver="3"/>
			<designed target="OnHoverPenStyle" value="1" ver="3"/>
			<designed target="OnHoverPenWidth" value="1" ver="3"/>
			<designed target="DisabledPenColor" value="0xffa0a0a0" ver="3"/>
			<designed target="DisabledPenStyle" value="1" ver="3"/>
			<designed target="DisabledPenWidth" value="1" ver="3"/>
			<do-trace access-modifier="private" target="Enabled" ver="5">
				<body>
					<![CDATA[Table_1.currentRow > 0]]>
				</body>
			</do-trace>
			<designed target="ZValue" value="0" ver="3"/>
			<designed target="Opacity" value="1" ver="3"/>
			<designed target="Checked" value="false" ver="4"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ButtonPressed">
				<body kind="javascript">
					<![CDATA[//Двигаем строку вверх
var rowNumber = Table_1.currentRow;
if (rowNumber == 0)
	return;

//Запоминаем верхнюю строку. Если выделенная строка - 2я, то делаем так, чтобы первый столбец новой строки был "Сортировать по"
var tempRow = [], currentRow = [];
if (rowNumber == 1)
{
	tempRow = [Table_1.TableModel.GetCellData(rowNumber,0), Table_1.TableModel.GetCellData(rowNumber-1,1), Table_1.TableModel.GetCellData(rowNumber-1,2)];
	currentRow = [Table_1.TableModel.GetCellData(rowNumber-1,0), Table_1.TableModel.GetCellData(rowNumber,1), Table_1.TableModel.GetCellData(rowNumber,2)];
}
else 
{
	tempRow = [Table_1.TableModel.GetCellData(rowNumber-1,0), Table_1.TableModel.GetCellData(rowNumber-1,1), Table_1.TableModel.GetCellData(rowNumber-1,2)];
	currentRow = [Table_1.TableModel.GetCellData(rowNumber,0), Table_1.TableModel.GetCellData(rowNumber,1), Table_1.TableModel.GetCellData(rowNumber,2)];
}

//Перемещаем строку вверх
Table_1.TableModel.SetCellData(rowNumber-1, 0, currentRow[0]);
Table_1.TableModel.SetCellData(rowNumber-1, 1, currentRow[1]);
Table_1.TableModel.SetCellData(rowNumber-1, 2, currentRow[2]);

Table_1.TableModel.SetCellData(rowNumber, 0, tempRow[0]);
Table_1.TableModel.SetCellData(rowNumber, 1, tempRow[1]);
Table_1.TableModel.SetCellData(rowNumber, 2, tempRow[2]);

//Выделяем перенесенную строку
Table_1.currentRow -= 1;
Table_1.SetSelectedRows("["+Table_1.currentRow+"]");]]>
				</body>
			</do-on>
		</object>
		<object access-modifier="private" name="Button_Down" display-name="Button_Down" uuid="54f37461-241c-4563-842a-a9355e511321" base-type="Button" base-type-id="61e46e4a-827f-4dd2-ac8a-b68bcaddf442" ver="3">
			<designed target="X" value="0" ver="3"/>
			<designed target="Y" value="100" ver="3"/>
			<designed target="Rotation" value="0" ver="3"/>
			<designed target="Scale" value="1" ver="3"/>
			<designed target="Visible" value="true" ver="3"/>
			<designed target="Enabled" value="true" ver="3"/>
			<designed target="Tooltip" value="" ver="3"/>
			<designed target="Width" value="80" ver="3"/>
			<designed target="Height" value="25" ver="3"/>
			<designed target="Checkable" value="false" ver="3"/>
			<designed target="Text" value="Вниз" ver="3"/>
			<designed target="TextAlignment" value="132" ver="3"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="3"/>
			<designed target="FontColor" value="4278190080" ver="3"/>
			<designed target="OnClickFontColor" value="0xff000000" ver="3"/>
			<designed target="OnHoverFontColor" value="0xff000000" ver="3"/>
			<designed target="DisabledFontColor" value="0xffa0a0a0" ver="3"/>
			<designed target="BrushColor" value="0xfff0f0f0" ver="3"/>
			<designed target="BrushStyle" value="1" ver="3"/>
			<designed target="OnClickBrushColor" value="0xffa0a0a0" ver="3"/>
			<designed target="OnClickBrushStyle" value="1" ver="3"/>
			<designed target="OnHoverBrushColor" value="0xffffffff" ver="3"/>
			<designed target="OnHoverBrushStyle" value="1" ver="3"/>
			<designed target="DisabledBrushColor" value="0xfff0f0f0" ver="3"/>
			<designed target="DisabledBrushStyle" value="1" ver="3"/>
			<designed target="PenColor" value="0xff000000" ver="3"/>
			<designed target="PenStyle" value="1" ver="3"/>
			<designed target="PenWidth" value="1" ver="3"/>
			<designed target="OnClickPenColor" value="0xff000000" ver="3"/>
			<designed target="OnClickPenStyle" value="1" ver="3"/>
			<designed target="OnClickPenWidth" value="1" ver="3"/>
			<designed target="OnHoverPenColor" value="0xff000000" ver="3"/>
			<designed target="OnHoverPenStyle" value="1" ver="3"/>
			<designed target="OnHoverPenWidth" value="1" ver="3"/>
			<designed target="DisabledPenColor" value="0xffa0a0a0" ver="3"/>
			<designed target="DisabledPenStyle" value="1" ver="3"/>
			<designed target="DisabledPenWidth" value="1" ver="3"/>
			<do-trace access-modifier="private" target="Enabled" ver="5">
				<body>
					<![CDATA[Table_1.currentRow > -1 &&
Table_1.currentRow < Table_1.TableModel.GetRowCount()-1]]>
				</body>
			</do-trace>
			<designed target="ZValue" value="0" ver="3"/>
			<designed target="Opacity" value="1" ver="3"/>
			<designed target="Checked" value="false" ver="4"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ButtonPressed">
				<body kind="javascript">
					<![CDATA[//Двигаем строку вниз
var rowNumber = Table_1.currentRow;
if (rowNumber == Table_1.TableModel.GetRowCount()-1)
	return;

//Запоминаем нижнюю строку. Если выделенная строка - 1я, то делаем так, чтобы первый столбец новой строки был "Затем по"
var tempRow = [], currentRow = [];
if (rowNumber == 0)
{
	tempRow = [Table_1.TableModel.GetCellData(rowNumber,0),Table_1.TableModel.GetCellData(rowNumber+1,1),Table_1.TableModel.GetCellData(rowNumber+1,2)];
	currentRow = [Table_1.TableModel.GetCellData(rowNumber+1,0),Table_1.TableModel.GetCellData(rowNumber,1),Table_1.TableModel.GetCellData(rowNumber,2)];
}
else 
{
	tempRow = [Table_1.TableModel.GetCellData(rowNumber+1,0),Table_1.TableModel.GetCellData(rowNumber+1,1),Table_1.TableModel.GetCellData(rowNumber+1,2)];
	currentRow = [Table_1.TableModel.GetCellData(rowNumber,0),Table_1.TableModel.GetCellData(rowNumber,1),Table_1.TableModel.GetCellData(rowNumber,2)];
}

//Перемещаем строку вниз
Table_1.TableModel.SetCellData(rowNumber+1,0,currentRow[0]);
Table_1.TableModel.SetCellData(rowNumber+1,1,currentRow[1]);
Table_1.TableModel.SetCellData(rowNumber+1,2,currentRow[2]);

Table_1.TableModel.SetCellData(rowNumber,0,tempRow[0]);
Table_1.TableModel.SetCellData(rowNumber,1,tempRow[1]);
Table_1.TableModel.SetCellData(rowNumber,2,tempRow[2]);

//Выделяем перенесенную строку
Table_1.currentRow += 1;
Table_1.SetSelectedRows("["+Table_1.currentRow+"]");
]]>
				</body>
			</do-on>
		</object>
		<object access-modifier="private" name="Button_Apply" display-name="Button_Apply" uuid="4211b789-ff45-4642-b815-384b2d8450ed" base-type="Button" base-type-id="61e46e4a-827f-4dd2-ac8a-b68bcaddf442" ver="3">
			<designed target="X" value="0" ver="3"/>
			<designed target="Y" value="130" ver="3"/>
			<designed target="Rotation" value="0" ver="3"/>
			<designed target="Scale" value="1" ver="3"/>
			<designed target="Visible" value="true" ver="3"/>
			<designed target="Enabled" value="true" ver="3"/>
			<designed target="Tooltip" value="" ver="3"/>
			<designed target="Width" value="80" ver="3"/>
			<designed target="Height" value="25" ver="3"/>
			<designed target="Checkable" value="false" ver="3"/>
			<designed target="Text" value="Применить" ver="3"/>
			<designed target="TextAlignment" value="132" ver="3"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0,Обычный" ver="3"/>
			<designed target="FontColor" value="4278190080" ver="3"/>
			<designed target="OnClickFontColor" value="0xff000000" ver="3"/>
			<designed target="OnHoverFontColor" value="0xff000000" ver="3"/>
			<designed target="DisabledFontColor" value="0xffa0a0a0" ver="3"/>
			<designed target="BrushColor" value="0xfff0f0f0" ver="3"/>
			<designed target="BrushStyle" value="1" ver="3"/>
			<designed target="OnClickBrushColor" value="0xffa0a0a0" ver="3"/>
			<designed target="OnClickBrushStyle" value="1" ver="3"/>
			<designed target="OnHoverBrushColor" value="0xffffffff" ver="3"/>
			<designed target="OnHoverBrushStyle" value="1" ver="3"/>
			<designed target="DisabledBrushColor" value="0xfff0f0f0" ver="3"/>
			<designed target="DisabledBrushStyle" value="1" ver="3"/>
			<designed target="PenColor" value="0xff000000" ver="3"/>
			<designed target="PenStyle" value="1" ver="3"/>
			<designed target="PenWidth" value="1" ver="3"/>
			<designed target="OnClickPenColor" value="0xff000000" ver="3"/>
			<designed target="OnClickPenStyle" value="1" ver="3"/>
			<designed target="OnClickPenWidth" value="1" ver="3"/>
			<designed target="OnHoverPenColor" value="0xff000000" ver="3"/>
			<designed target="OnHoverPenStyle" value="1" ver="3"/>
			<designed target="OnHoverPenWidth" value="1" ver="3"/>
			<designed target="DisabledPenColor" value="0xffa0a0a0" ver="3"/>
			<designed target="DisabledPenStyle" value="1" ver="3"/>
			<designed target="DisabledPenWidth" value="1" ver="3"/>
			<designed target="ZValue" value="0" ver="3"/>
			<designed target="Opacity" value="1" ver="3"/>
			<designed target="Checked" value="false" ver="4"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ButtonPressed">
				<body kind="om">
					<![CDATA[ApplySort();
Close();]]>
				</body>
			</do-on>
		</object>
		<designed target="ZValue" value="0" ver="3"/>
		<designed target="Opacity" value="1" ver="3"/>
	</object>
	<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="Opened">
		<body kind="om">
			<![CDATA[Table_1.DirectionEdit.Clear();
Table_1.DirectionEdit.AddItem("По возрастанию (от А до Я)");
Table_1.DirectionEdit.AddItem("По убыванию (от Я до А)");
Table_1.currentRow = -1;//#25364 чтоб DirectionEdit.SelectedChanged не обработал ложное событие

TableFilling(); //Считываем параметры сортировки и заполняем таблицы формы
Focus = true; //Переводим Focus на форму для обработки нажатия клавиш]]>
		</body>
	</do-on>
	<object access-modifier="private" name="Alarms_1" display-name="Alarms_1" uuid="0e74bc7d-34c2-453c-9342-1730c4df2a2e" base-type="Alarms" base-type-id="521d4d69-1b32-4210-ae17-099df1125e3c" base-const="true" base-ref="true" ver="2"/>
	<do access-modifier="private" name="TableFilling" display-name="TableFilling" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="javascript">
			<![CDATA[//Функция заполнения таблицы сортировки
var matchCount = 0;
var Column=[];
tableFull = false; //Проверка заполненности таблицы

//Если таблица в оперативном режиме, то берем ее параметры, если нет - берем параметры исторической таблицы
if (Alarms_1.ActiveMode == 0)
{
	for (let i = 0; i < Alarms_1.Main_tables_Operative.Table_Operative_mode.Columns.Length; i++)
		if (Alarms_1.Main_tables_Operative.Table_Operative_mode.Columns[i].Title != "-")//cheat1
			Column.push(Alarms_1.Main_tables_Operative.Table_Operative_mode.Columns[i]);
}
else
{
	for (let i = 0; i < Alarms_1.Main_tables_Historical.Table_History_mode.Columns.Length; i++)
		if (Alarms_1.Main_tables_Historical.Table_History_mode.Columns[i].Title != "-")//cheat1
			Column.push(Alarms_1.Main_tables_Historical.Table_History_mode.Columns[i]);
}

TempTable_1.MaxRowCount = 20;
TempTable_1.AddColumn("Use", "", "", "", "bool", false, true);
TempTable_1.AddColumn("Field", "", "", "", "string", false, true);
TempTable_1.AddColumn("Direction", "", "", "", "string", false, true);
Table_1.TableModel.AddColumn("Priority", "", "", "", "string", false, true);
Table_1.TableModel.AddColumn("Field", "", "", "", "string", false, true);
Table_1.TableModel.AddColumn("Direction", "", "", "", "string", false, true);
for (let i = 0; i < Column.length; i++)
{
	//Заполняем промежуточную таблицу
	TempTable_1.AddRow();
	TempTable_1.SetCellData(i,0,Column[i].SortingEnabled);
	TempTable_1.SetCellData(i,1,Column[i].Title);
	if (Column[i].SortOrder == 0 || !Column[i].SortingEnabled) TempTable_1.SetCellData(i,2,"По возрастанию (от А до Я)");
	else TempTable_1.SetCellData(i,2,"По убыванию (от Я до А)");

	//Выводим параметры сортировки в видимую таблицу, если они есть
	if (Column[i].SortingEnabled)
	{
		Table_1.TableModel.AddRow();
		Table_1.TableModel.SetCellData(Table_1.TableModel.GetRowCount()-1, 0, Column[i].SortPriority);
		Table_1.TableModel.SetCellData(Table_1.TableModel.GetRowCount()-1, 1, Column[i].Title);
		if (Column[i].SortOrder == 0) Table_1.TableModel.SetCellData(Table_1.TableModel.GetRowCount()-1, 2,"По возрастанию (от А до Я)");
		else Table_1.TableModel.SetCellData(Table_1.TableModel.GetRowCount()-1, 2,"По убыванию (от Я до А)");
	}
}
if (TempTable_1.GetRowCount() == Column.length - 1)
	tableFull = true;

//Если элементов больше одного, то применяем сортировку по приоритету
if (Table_1.TableModel.GetRowCount() > 0) {
	for (let i = 0; i < Table_1.TableModel.GetRowCount(); i++)
	{
		for (let j = 0; j < Table_1.TableModel.GetRowCount(); j++)
		{
			if (parseInt(Table_1.TableModel.GetCellData(i,0)) > parseInt(Table_1.TableModel.GetCellData(j,0)))
			{
				let tempCol0 = Table_1.TableModel.GetCellData(j,0);
				let tempCol1 = Table_1.TableModel.GetCellData(j,1);
				let tempCol2 = Table_1.TableModel.GetCellData(j,2);
				Table_1.TableModel.SetCellData(j,0,Table_1.TableModel.GetCellData(i,0));
				Table_1.TableModel.SetCellData(j,1,Table_1.TableModel.GetCellData(i,1));
				Table_1.TableModel.SetCellData(j,2,Table_1.TableModel.GetCellData(i,2));
				Table_1.TableModel.SetCellData(i,0,tempCol0);
				Table_1.TableModel.SetCellData(i,1,tempCol1);
				Table_1.TableModel.SetCellData(i,2,tempCol2);
			}
		}
	}
	
	//Меняем все значения сортировки на текст "Сортировать по" и "Затем по"
	for (let i = 0; i < Table_1.TableModel.GetRowCount(); i++)
	{
		if (i == 0) Table_1.TableModel.SetCellData(i,0,"Сортировать по");
		else Table_1.TableModel.SetCellData(i,0,"Затем по");
	}
}

// Сортировка временной таблицы по алфавиту (для вывода в выпадающем списке)
for (let i = 0; i < TempTable_1.GetRowCount(); i++)
{
	for (let j = 0; j < TempTable_1.GetRowCount(); j++)
	{
		if (TempTable_1.GetCellData(i,1) < TempTable_1.GetCellData(j,1))
		{
			let tempCol0 = TempTable_1.GetCellData(j,0);
			let tempCol1 = TempTable_1.GetCellData(j,1);
			let tempCol2 = TempTable_1.GetCellData(j,2);
			TempTable_1.SetCellData(j,0,TempTable_1.GetCellData(i,0));
			TempTable_1.SetCellData(j,1,TempTable_1.GetCellData(i,1));
			TempTable_1.SetCellData(j,2,TempTable_1.GetCellData(i,2));
			TempTable_1.SetCellData(i,0,tempCol0);
			TempTable_1.SetCellData(i,1,tempCol1);
			TempTable_1.SetCellData(i,2,tempCol2);
		}
	}
}


]]>
		</body>
	</do>
	<object access-modifier="private" name="tableFull" display-name="tableFull" uuid="4610154b-671a-49db-a54c-bbc47686132d" base-type="notifying_bool" base-type-id="f8797810-1baa-4a1f-af36-cf839bf252e8" ver="3"/>
	<do-on access-modifier="private" name="Handler_2" display-name="Handler_2" ver="5" event="KeyPress">
		<body kind="om">
			<![CDATA[vi: uint4 = event.KeyCode;
if (vi==75) Close();
]]>
		</body>
	</do-on>
	<designed target="ZValue" value="0" ver="3"/>
	<designed target="Opacity" value="1" ver="3"/>
	<do access-modifier="private" name="ApplySort" display-name="ApplySort" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
		<body kind="javascript">
			<![CDATA[var Column=[];
var table;
var sortArray = [];

//Если таблица в оперативном режиме, то берем ее параметры, если нет - берем параметры исторической таблицы
if (Alarms_1.ActiveMode == 0)
{
	for (let i = 0; i < Alarms_1.Main_tables_Operative.Table_Operative_mode.Columns.Length; i++)
		if (Alarms_1.Main_tables_Operative.Table_Operative_mode.Columns[i].Title != "-")//cheat1
			Column.push(Alarms_1.Main_tables_Operative.Table_Operative_mode.Columns[i]);
	table = Alarms_1.Main_tables_Operative.Table_Operative_mode;
}
else
{
	for (let i = 0; i < Alarms_1.Main_tables_Historical.Table_History_mode.Columns.Length; i++)
		if (Alarms_1.Main_tables_Historical.Table_History_mode.Columns[i].Title != "-")//cheat1
			Column.push(Alarms_1.Main_tables_Historical.Table_History_mode.Columns[i]);
	table = Alarms_1.Main_tables_Historical.Table_History_mode;
}

//Формирование массива с параметрами сортировки
for (let i = 0; i < Table_1.TableModel.GetRowCount(); i++)
{
	for (let j = 0; j < Column.length; j++)
		if (Column[j].Title == Table_1.TableModel.GetCellData(i,1)) var id = Column[j].Id;
	
	var sortPriority = Table_1.TableModel.GetRowCount() - i;
	var sortOrder = (Table_1.TableModel.GetCellData(i,2) == "По возрастанию (от А до Я)")?(0):(1)
	sortArray.push({'Id':id, 'SortOrder': sortOrder, 'SortPriority':sortPriority});
}
Alarms_1.Main_panel.private.TableView.SetSorting(JSON.stringify(sortArray));]]>
		</body>
	</do>
	<object access-modifier="private" name="Table_1" display-name="Table_1" uuid="b13223bb-b814-46a2-9443-93dbb64aeccd" base-type="Table" base-type-id="c65ff4dc-f22b-47d3-9333-72c4e4e5f662" ver="2">
		<designed target="X" value="5" ver="2"/>
		<designed target="Y" value="5" ver="2"/>
		<designed target="Rotation" value="0" ver="2"/>
		<designed target="Scale" value="1" ver="2"/>
		<designed target="Visible" value="true" ver="2"/>
		<designed target="Enabled" value="true" ver="2"/>
		<designed target="Width" value="470" ver="2"/>
		<designed target="Height" value="450" ver="2"/>
		<designed target="SelectionBehavior" value="1" ver="2"/>
		<designed target="SelectionMode" value="1" ver="2"/>
		<designed target="LatestRowTracking" value="false" ver="2"/>
		<object access-modifier="private" name="Priority" display-name="Priority" uuid="2e0eb5ce-c1b7-4e35-b3eb-0fe924af4a9c" base-type="TableColumn" base-type-id="109c05c5-8dcf-4a8f-aedd-5bb547cca2d4" ver="2">
			<designed target="Title" value="" ver="2"/>
			<designed target="Description" value="" ver="2"/>
			<designed target="Id" value="Priority" ver="2"/>
			<designed target="BackgroundColor" value="0xffffffff" ver="2"/>
			<designed target="ForegroundColor" value="4278190080" ver="2"/>
			<designed target="Font" value="Tahoma,8.25,-1,5,50,0,0,0,0,0" ver="2"/>
			<designed target="TextAlignment" value="129" ver="2"/>
			<designed target="TitleBackgroundColor" value="0xfff0f0f0" ver="2"/>
			<designed target="TitleForegroundColor" value="0xff000000" ver="2"/>
			<designed target="TitleFont" value="Tahoma,8.25,-1,5,50,0,0,0,0,0" ver="2"/>
			<designed target="Width" value="100" ver="2"/>
			<designed target="WidthResizeMode" value="2" ver="2"/>
			<designed target="Emptiable" value="true" ver="2"/>
			<designed target="Hidden" value="false" ver="2"/>
			<designed target="NumberFormat" value="%d" ver="2"/>
			<designed target="TimeFormat" value="dd.MM.yyyy hh:mm:ss.zzz" ver="2"/>
			<designed target="JsonFilter" value="" ver="2"/>
			<designed target="SortingEnabled" value="false" ver="2"/>
			<designed target="SortOrder" value="0" ver="2"/>
			<designed target="SortPriority" value="0" ver="2"/>
			<designed target="WordWrap" value="false" ver="3"/>
			<designed target="TitleTextAlignment" value="132" ver="3"/>
			<designed target="ColumnOwnId" value="" ver="4"/>
			<designed target="SortMode" value="0" ver="4"/>
			<do-trace access-modifier="private" target="BackgroundColor" ver="5">
				<body>
					<![CDATA[pTheme.EditorBrushColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ForegroundColor" ver="5">
				<body>
					<![CDATA[pTheme.EditorFontColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TitleBackgroundColor" ver="5">
				<body>
					<![CDATA[pTheme.BackgroundColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TitleForegroundColor" ver="5">
				<body>
					<![CDATA[pTheme.ForegroundColor]]>
				</body>
			</do-trace>
		</object>
		<object access-modifier="private" name="Field" display-name="Field" uuid="9afbb87a-fd29-43ee-a30f-0753eac4ae36" base-type="TableColumn" base-type-id="109c05c5-8dcf-4a8f-aedd-5bb547cca2d4" ver="2">
			<designed target="Title" value="Поле" ver="2"/>
			<designed target="Description" value="" ver="2"/>
			<designed target="Id" value="Field" ver="2"/>
			<designed target="BackgroundColor" value="0xffffffff" ver="2"/>
			<designed target="ForegroundColor" value="4278190080" ver="2"/>
			<designed target="Font" value="Tahoma,8.25,-1,5,50,0,0,0,0,0" ver="2"/>
			<designed target="TextAlignment" value="129" ver="2"/>
			<designed target="TitleBackgroundColor" value="0xfff0f0f0" ver="2"/>
			<designed target="TitleForegroundColor" value="0xff000000" ver="2"/>
			<designed target="TitleFont" value="Tahoma,8.25,-1,5,50,0,0,0,0,0" ver="2"/>
			<designed target="Width" value="190" ver="2"/>
			<designed target="WidthResizeMode" value="2" ver="2"/>
			<designed target="Emptiable" value="true" ver="2"/>
			<designed target="Hidden" value="false" ver="2"/>
			<designed target="NumberFormat" value="%d" ver="2"/>
			<designed target="TimeFormat" value="dd.MM.yyyy hh:mm:ss.zzz" ver="2"/>
			<designed target="JsonFilter" value="" ver="2"/>
			<designed target="SortingEnabled" value="false" ver="2"/>
			<designed target="SortOrder" value="0" ver="2"/>
			<designed target="SortPriority" value="0" ver="2"/>
			<designed target="WordWrap" value="false" ver="3"/>
			<designed target="TitleTextAlignment" value="132" ver="3"/>
			<designed target="ColumnOwnId" value="" ver="4"/>
			<designed target="SortMode" value="0" ver="4"/>
			<do-trace access-modifier="private" target="BackgroundColor" ver="5">
				<body>
					<![CDATA[pTheme.EditorBrushColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ForegroundColor" ver="5">
				<body>
					<![CDATA[pTheme.EditorFontColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TitleBackgroundColor" ver="5">
				<body>
					<![CDATA[pTheme.BackgroundColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TitleForegroundColor" ver="5">
				<body>
					<![CDATA[pTheme.ForegroundColor]]>
				</body>
			</do-trace>
		</object>
		<object access-modifier="private" name="Direction" display-name="Direction" uuid="7d45adfe-61c9-47f2-9158-c9091fdc9fb5" base-type="TableColumn" base-type-id="109c05c5-8dcf-4a8f-aedd-5bb547cca2d4" ver="2">
			<designed target="Title" value="Порядок" ver="2"/>
			<designed target="Description" value="" ver="2"/>
			<designed target="Id" value="Direction" ver="2"/>
			<designed target="BackgroundColor" value="0xffffffff" ver="2"/>
			<designed target="ForegroundColor" value="4278190080" ver="2"/>
			<designed target="Font" value="Tahoma,8.25,-1,5,50,0,0,0,0,0" ver="2"/>
			<designed target="TextAlignment" value="129" ver="2"/>
			<designed target="TitleBackgroundColor" value="0xfff0f0f0" ver="2"/>
			<designed target="TitleForegroundColor" value="0xff000000" ver="2"/>
			<designed target="TitleFont" value="Tahoma,8.25,-1,5,50,0,0,0,0,0" ver="2"/>
			<designed target="Width" value="170" ver="2"/>
			<designed target="WidthResizeMode" value="2" ver="2"/>
			<designed target="Emptiable" value="true" ver="2"/>
			<designed target="Hidden" value="false" ver="2"/>
			<designed target="NumberFormat" value="%d" ver="2"/>
			<designed target="TimeFormat" value="dd.MM.yyyy hh:mm:ss.zzz" ver="2"/>
			<designed target="JsonFilter" value="" ver="2"/>
			<designed target="SortingEnabled" value="false" ver="2"/>
			<designed target="SortOrder" value="0" ver="2"/>
			<designed target="SortPriority" value="0" ver="2"/>
			<designed target="WordWrap" value="false" ver="3"/>
			<designed target="TitleTextAlignment" value="132" ver="3"/>
			<designed target="ColumnOwnId" value="" ver="4"/>
			<designed target="SortMode" value="0" ver="4"/>
			<do-trace access-modifier="private" target="BackgroundColor" ver="5">
				<body>
					<![CDATA[pTheme.EditorBrushColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="ForegroundColor" ver="5">
				<body>
					<![CDATA[pTheme.EditorFontColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TitleBackgroundColor" ver="5">
				<body>
					<![CDATA[pTheme.BackgroundColor]]>
				</body>
			</do-trace>
			<do-trace access-modifier="private" target="TitleForegroundColor" ver="5">
				<body>
					<![CDATA[pTheme.ForegroundColor]]>
				</body>
			</do-trace>
		</object>
		<object access-modifier="private" name="FieldEdit" display-name="FieldEdit" uuid="649d00f5-93d5-4ae0-983d-6af98ba41791" base-type="ComboBox" base-type-id="3495bcd2-01f2-4709-b7f4-e9cf6f3a00bc" ver="2">
			<designed target="X" value="100" ver="2"/>
			<designed target="Y" value="30" ver="2"/>
			<designed target="Rotation" value="0" ver="2"/>
			<designed target="Scale" value="1" ver="2"/>
			<designed target="Visible" value="false" ver="2"/>
			<designed target="Enabled" value="true" ver="2"/>
			<designed target="Tooltip" value="" ver="2"/>
			<designed target="Width" value="190" ver="2"/>
			<designed target="Height" value="23" ver="2"/>
			<designed target="Editable" value="false" ver="2"/>
			<designed target="Text" value="" ver="2"/>
			<designed target="SelectedIndex" value="-1" ver="2"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="2"/>
			<designed target="FontColor" value="4278190080" ver="2"/>
			<designed target="MaxVisibleItems" value="10" ver="2"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="SelectedChanged">
				<body kind="javascript">
					<![CDATA[if (SelectedIndex < 0)
	return;

//Запись выбранного значения из списка в таблицу и обновление статуса в глобальной таблице
Table_1.TableModel.SetCellData(currentRow, 1, FieldEdit.GetItem(SelectedIndex));
for (let i = 0; i < TempTable_1.GetRowCount(); i++)
{
	if (TempTable_1.GetCellData(i,1) == FieldEdit.GetItem(SelectedIndex))
		TempTable_1.SetCellData(i,0,true);
}

//статус использования всех полей, незадействованные в таблице, обнуляется
for (let i = 0; i < TempTable_1.GetRowCount();i++)
{
	var matchCount = 0;
	for (let j = 0; j < TableModel.GetRowCount(); j++)
		if (TempTable_1.GetCellData(i,1) == TableModel.GetCellData(j,1))
			matchCount++;

	if (matchCount == 0)
		TempTable_1.SetCellData(i,0,false);
}]]>
				</body>
			</do-on>
			<designed target="ZValue" value="0" ver="3"/>
			<designed target="Opacity" value="1" ver="3"/>
		</object>
		<object access-modifier="private" name="DirectionEdit" display-name="DirectionEdit" uuid="e6a01387-1293-4f12-ab6f-89c77fda3ece" base-type="ComboBox" base-type-id="3495bcd2-01f2-4709-b7f4-e9cf6f3a00bc" ver="2">
			<designed target="X" value="290" ver="2"/>
			<designed target="Y" value="30" ver="2"/>
			<designed target="Rotation" value="0" ver="2"/>
			<designed target="Scale" value="1" ver="2"/>
			<designed target="Visible" value="false" ver="2"/>
			<designed target="Enabled" value="true" ver="2"/>
			<designed target="Tooltip" value="" ver="2"/>
			<designed target="Width" value="170" ver="2"/>
			<designed target="Height" value="23" ver="2"/>
			<designed target="Editable" value="false" ver="2"/>
			<designed target="Text" value="" ver="2"/>
			<designed target="SelectedIndex" value="-1" ver="2"/>
			<designed target="Font" value="Tahoma,8,-1,5,50,0,0,0,0,0" ver="2"/>
			<designed target="FontColor" value="4278190080" ver="2"/>
			<designed target="MaxVisibleItems" value="10" ver="2"/>
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="SelectedChanged">
				<body kind="javascript">
					<![CDATA[if (SelectedIndex < 0 || currentRow < 0)
	return;

//Запись выбранного значения из списка в таблицу и обновление статуса в глобальной таблице
Table_1.TableModel.SetCellData(currentRow, 2, DirectionEdit.GetItem(SelectedIndex));
for (let i = 0; i < TempTable_1.GetRowCount(); i++)
{
	if (TempTable_1.GetCellData(i,1) == DirectionEdit.GetItem(SelectedIndex))
		TempTable_1.SetCellData(i,2, DirectionEdit.GetItem(SelectedIndex));
}

//статус использования всех полей, незадействованные в таблице, обнуляется
for (let i = 0; i < TempTable_1.GetRowCount();i++)
{
	var matchCount = 0;
	for (let j = 0; j < TableModel.GetRowCount(); j++)
		if (TempTable_1.GetCellData(i,1) == TableModel.GetCellData(j,1))
			matchCount++;

	if (matchCount == 0)
		TempTable_1.SetCellData(i,0,false);
}]]>
				</body>
			</do-on>
			<designed target="ZValue" value="0" ver="3"/>
			<designed target="Opacity" value="1" ver="3"/>
		</object>
		<designed target="HeaderHeight" value="23" ver="3"/>
		<designed target="HeaderVisible" value="true" ver="3"/>
		<designed target="RowHeight" value="28" ver="3"/>
		<designed target="RowOrder" value="0" ver="3"/>
		<object access-modifier="private" name="TableModel_1" display-name="TableModel_1" uuid="a8808a11-adf9-4b0e-9c93-5ee7d3191f71" base-type="TableModel" base-type-id="32b2875b-ee3e-454d-bcbb-40806a49273c" ver="3">
			<designed target="Frozen" value="false" ver="3"/>
			<designed target="MaxRowCount" value="2147483647" ver="3"/>
		</object>
		<init target="TableModel" ver="5" ref="TableModel_1"/>
		<designed target="SelectionOverlayEnabled" value="true" ver="3"/>
		<do access-modifier="private" name="FieldEditFilling" display-name="FieldEditFilling" ver="5" type="void" type-id="cfbbcafa-e13e-4354-a33a-6e57b818e4da">
			<body kind="javascript">
				<![CDATA[// Заполнение выпадающего списка заголовков и выбор элемента
var selectedIndex = 0;
var rowCount = -1;

FieldEdit.Clear();

for (let i = 0; i < TempTable_1.GetRowCount(); i++)
{
	var notUse = !TempTable_1.GetCellData(i, 0);
	var title = TempTable_1.GetCellData(i, 1);
	if ( notUse || selectedTitle == title)
	{
		FieldEdit.AddItem(title);
		rowCount  += 1
	}
	if (selectedTitle == title)
		selectedIndex = rowCount;
}

FieldEdit.SelectedIndex = selectedIndex;]]>
			</body>
			<param access-modifier="private" name="selectedTitle" display-name="" uuid="d779ce58-ae84-412a-8465-07736fd3d67c" base-type="string" base-type-id="76403785-f3d5-41a7-9eb6-d19d2aa2d95d" ver="3"/>
		</do>
		<designed target="BackgroundColor" value="4294967295" ver="4"/>
		<designed target="FrameColor" value="4278190080" ver="4"/>
		<designed target="GridColor" value="4292401368" ver="4"/>
		<designed target="DelayedSortingEnabled" value="false" ver="4"/>
		<designed target="HorizontalScrollMode" value="0" ver="4"/>
		<designed target="VerticalScrollMode" value="0" ver="4"/>
		<designed target="HorizontalScrollBarPolicy" value="0" ver="4"/>
		<designed target="VerticalScrollBarPolicy" value="0" ver="4"/>
		<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="CurrentChanged">
			<body kind="om">
				<![CDATA[currentRow = row;]]>
			</body>
		</do-on>
		<object access-modifier="private" name="currentRow" display-name="currentRow" uuid="c261341f-2275-412c-94c2-f12fc0d9b4d7" base-type="notifying_int4" base-type-id="5ccca629-a45d-46c8-a56c-83ecde8126f7" ver="4">
			<do-on access-modifier="private" name="Handler_1" display-name="Handler_1" ver="5" event="ValueChanged">
				<body kind="om">
					<![CDATA[if (currentRow > - 1 && currentRow < GetRowCount())
{
	// Задаем координаты для вызова элементов редактирования строки
	FieldEdit.X = Priority.Width;
	FieldEdit.Y = HeaderHeight + RowHeight*currentRow + 2;
	FieldEdit.Width = GetColumnWidth(1) - 1;
	FieldEdit.Height = RowHeight - 3;
	FieldEdit.Visible = true;
	
	DirectionEdit.X = Priority.Width + Field.Width;
	DirectionEdit.Y = HeaderHeight + RowHeight*currentRow + 2;
	DirectionEdit.Width = GetColumnWidth(2) - 1;
	DirectionEdit.Height = RowHeight - 3;
	DirectionEdit.Visible = true;
	
	// Заполнение выпадающего списка имени столбца
	FieldEditFilling(Variant.ToString(TableModel.GetCellData(currentRow, 1), ""));

	// Заполнение выпадающего списка направления
	sortOrder: string = Variant.ToString(TableModel.GetCellData(currentRow, 2), "");
	if (sortOrder == "По возрастанию (от А до Я)")
		DirectionEdit.SelectedIndex = 0;
	else DirectionEdit.SelectedIndex = 1;
}
else
{
	FieldEdit.Visible = false;
	DirectionEdit.Visible = false;
}]]>
				</body>
			</do-on>
		</object>
		<do-trace access-modifier="private" target="BackgroundColor" ver="5">
			<body>
				<![CDATA[pTheme.EditorBrushColor]]>
			</body>
		</do-trace>
		<do-trace access-modifier="private" target="FrameColor" ver="5">
			<body>
				<![CDATA[pTheme.BorderColor]]>
			</body>
		</do-trace>
	</object>
	<object access-modifier="private" name="TempTable_1" display-name="TempTable_1" uuid="ee5c6fcd-fd41-42b0-a1dc-62894ced3548" base-type="InMemoryTable" base-type-id="32b2875b-ee3e-454d-bcbb-40806a49273c" ver="3">
		<designed target="MaxRowCount" value="1" ver="3"/>
		<designed target="Frozen" value="false" ver="3"/>
	</object>
	<object access-modifier="private" name="pTheme" display-name="Тема оформления" uuid="79fe6ec0-4e5f-4b6c-8773-e5586ee2bd2d" base-type="Theme" base-type-id="05d4d7df-0f8e-4ec1-ac85-b5460e30af81" base-const="true" base-ref="true" ver="4"/>
	<do-trace access-modifier="private" target="BrushColor" ver="5">
		<body>
			<![CDATA[pTheme.BackgroundColor]]>
		</body>
	</do-trace>
	<designed target="WindowIconPath" value="" ver="5"/>
</type>

